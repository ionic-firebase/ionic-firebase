<form [formGroup]="pensionForm">
  <ion-card>
    <ion-card-header color="secondary"></ion-card-header>
    <ion-card-content class="ion-padding" color="light" width="100%">
    <ion-list>     
      <ion-item (click)="showPicker = !showPicker">
        <ion-input value="{{formattedDate}}" label="Pension Start Date"></ion-input>
      </ion-item>
      <ion-datetime *ngIf="showPicker"
        #datetime
        [value]="dateValue"
        size="cover"
        presentation="date"
        min="{{fromDate}}"
        max="{{toDate}}"
        (ionChange)="dateChanged(datetime.value)"
        showDefaultButtons="false">
      </ion-datetime>

      <ion-item>
        <ion-input formControlName="name" type="text" placeholder="What's your pension's name?"
        label="Pension Name" [class.invalid]="!pensionForm.controls['name'].valid&& pensionForm.controls['name'].touched">
        </ion-input>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['name'].valid &&
                  pensionForm.controls['name'].touched">
        <ion-label>Please enter an account name.</ion-label>
      </ion-item>

      <ion-item>
        <ion-input formControlName="account" type="text" placeholder="What's your pension's account number?"
        label="Account Number" [class.invalid]="!pensionForm.controls['account'].valid&& pensionForm.controls['account'].touched">
        </ion-input>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['account'].valid &&
                  pensionForm.controls['account'].touched">
        <ion-label>Please enter an account number greater than 6 digits long.</ion-label>
      </ion-item>

      <ion-item>
        <ion-input formControlName="onlineid" type="text" 
        label="Online ID" placeholder="What's your pension's online ID?">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-input formControlName="passwordhint" type="text" 
        label="Password Hint (not your password!)" placeholder="Think of a password hint?">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-input formControlName="income" type="number" placeholder="Â£"
        label="Income amount" [class.invalid]="!pensionForm.controls['income'].valid&& pensionForm.controls['income'].touched">
        </ion-input>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['income'].valid &&
                  pensionForm.controls['income'].touched">
        <ion-label>Please enter pension income amount.</ion-label>
      </ion-item>

      <ion-item>
        <ion-select formControlName="frequency" interface="popover"
        label="Income Frequency" [class.invalid]="!pensionForm.controls['frequency'].valid&& pensionForm.controls['frequency'].touched">
          <ion-select-option value="Weekly">Weekly</ion-select-option>
          <ion-select-option value="Monthly">Monthly</ion-select-option>
          <ion-select-option value="Quarterly">Quarterly</ion-select-option>
          <ion-select-option value="Annually">Annually</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['frequency'].valid &&
                  pensionForm.controls['frequency'].touched">
        <ion-label>Please select rate of income amount.</ion-label>
      </ion-item>

      <ion-item>
        <ion-select formControlName="taxable" interface="popover"
        label="Pension Taxable?" [class.invalid]="!pensionForm.controls['taxable'].valid&& pensionForm.controls['taxable'].touched">
          <ion-select-option value="No">No</ion-select-option>
          <ion-select-option value="Yes">Yes</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['taxable'].valid &&
                  pensionForm.controls['taxable'].touched">
        <ion-label>Please select whether the pension in taxable or not.</ion-label>
      </ion-item>

      <ion-item>
        <ion-select formControlName="forecast" interface="popover"
        label="Include in forecast?" [class.invalid]="!pensionForm.controls['forecast'].valid&& pensionForm.controls['forecast'].touched">
          <ion-select-option [value]="false">No</ion-select-option>
          <ion-select-option [value]="true">Yes</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item class="error-message" *ngIf="!pensionForm.controls['forecast'].valid &&
          pensionForm.controls['forecast'].touched">
        <ion-label>Include in forecast calculations?</ion-label>
      </ion-item>

      <ion-item>
        <ion-textarea formControlName="notes" rows="6" cols="20" label="Notes">
        </ion-textarea>
      </ion-item>
        
    </ion-list>
  </ion-card-content>
</ion-card>
<ion-button (click)="submitCredentials(pensionForm)" expand="block" [disabled]="!pensionForm.valid">
  {{ actionButtonText }}
</ion-button>
</form>
